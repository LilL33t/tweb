<div class="container mt-5">

    <div class="row mb-5">
        <div class="col-md-8 offset-md-2 text-center">
            <h1 class="display-4 fw-bold">Explore Anime Data</h1>
            <p class="lead text-muted mb-4">Search across 28k animes and 124M ratings</p>

            <div class="input-group mb-3 input-group-lg shadow-sm">
                <input type="text" id="searchInput" class="form-control" placeholder="Enter anime title (e.g. Naruto)...">
                <button class="btn btn-primary px-4" type="button" onclick="searchAnime()">Search</button>
            </div>

        </div>
    </div>

    <div id="resultsArea" class="row mt-4"></div>

    {{#if topAnime}}
        <div id="default-suggestions" class="mb-5">

            <h3 class="mb-4">Top Ranked Anime</h3>

            <div class="row row-cols-1 row-cols-md-3 g-4">
                {{#each topAnime}}
                    <div class="col">
                        <div class="card h-100 shadow-sm border rounded">

                            <div style="height: 300px; overflow: hidden;">
                                <img src="{{this.imageUrl}}" class="card-img-top h-100 w-100" style="object-fit: cover;" alt="{{this.title}}">
                            </div>

                            <div class="card-body d-flex flex-column">

                                <h5 class="card-title text-truncate" title="{{this.title}}">
                                    {{this.title}}
                                </h5>

                                <p class="card-text text-muted small mb-3">
                                    {{#if this.genres}}
                                        {{this.genres}}
                                    {{else}}
                                        {{this.type}} {{/if}}
                                </p>

                                <a href="/anime/{{this.malId}}" class="btn btn-primary w-100 mt-auto">
                                    See more
                                </a>
                            </div>

                        </div>
                    </div>
                {{/each}}
            </div>
        </div>
    {{/if}}

</div>

<div class="modal fade" id="detailsModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">Anime Title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body" id="modalBody">
                Loading...
            </div>
        </div>
    </div>
</div>

<style>
    .hover-effect { transition: transform 0.2s; }
    .hover-effect:hover { transform: translateY(-5px); }
</style>